<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.319">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-07-18">
<meta name="description" content="What makes quantum computers powerful? Explained as simply as possible, but no simpler.">

<title>Notes on Quantum Computing - Where do quantum speedups come from?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../kika.jpeg" rel="icon" type="image/jpeg">
<script src="../../site_libs/quarto-listing/list.min.js"></script>
<script src="../../site_libs/quarto-listing/quarto-listing.js"></script>
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script>

  window.document.addEventListener("DOMContentLoaded", function (_event) {
    const listingTargetEl = window.document.querySelector('#listing-listing .list');
    if (!listingTargetEl) {
      // No listing discovered, do not attach.
      return; 
    }

    const options = {
      valueNames: ['listing-date','listing-title','listing-description','listing-categories','listing-image',{ data: ['index'] },{ data: ['categories'] },{ data: ['listing-date-sort'] },{ data: ['listing-file-modified-sort'] }],
      
      searchColumns: [],
    };

    window['quarto-listings'] = window['quarto-listings'] || {};
    window['quarto-listings']['listing-listing'] = new List('listing-listing', options);

    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  });

  window.addEventListener('hashchange',() => {
    if (window['quarto-listing-loaded']) {
      window['quarto-listing-loaded']();
    }
  })
  </script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-1154MLY31V"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-1154MLY31V', { 'anonymize_ip': true});
</script>
<script>
window.MathJax = {
  tex: {
    tags: 'ams'
  }
};
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Notes on Quantum Computing</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="../../index.xml" rel="" target=""><i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Where do quantum speedups come from?</h1>
                  <div>
        <div class="description">
          What makes quantum computers powerful? Explained as simply as possible, but no simpler.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">quantum concepts</div>
                <div class="quarto-category">paper review</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 18, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#why-can-quantum-computers-be-powerful" id="toc-why-can-quantum-computers-be-powerful" class="nav-link" data-scroll-target="#why-can-quantum-computers-be-powerful">Why can quantum computers be powerful?</a></li>
  <li><a href="#what-does-this-mean-exactly" id="toc-what-does-this-mean-exactly" class="nav-link" data-scroll-target="#what-does-this-mean-exactly">What does this mean, exactly?</a></li>
  <li><a href="#the-suspects" id="toc-the-suspects" class="nav-link" data-scroll-target="#the-suspects">The suspects</a></li>
  </ul></li>
  <li><a href="#what-is-quantum-computing-anyway" id="toc-what-is-quantum-computing-anyway" class="nav-link" data-scroll-target="#what-is-quantum-computing-anyway">What is quantum computing, anyway?</a>
  <ul class="collapse">
  <li><a href="#its-not-really-about-the-physics" id="toc-its-not-really-about-the-physics" class="nav-link" data-scroll-target="#its-not-really-about-the-physics">It’s not really about the physics</a></li>
  <li><a href="#quantum-states" id="toc-quantum-states" class="nav-link" data-scroll-target="#quantum-states">Quantum states</a></li>
  </ul></li>
  <li><a href="#absurdly-short-intro-to-classical-computing" id="toc-absurdly-short-intro-to-classical-computing" class="nav-link" data-scroll-target="#absurdly-short-intro-to-classical-computing">Absurdly short intro to classical computing</a></li>
  <li><a href="#super-short-intro-to-quantum-computing" id="toc-super-short-intro-to-quantum-computing" class="nav-link" data-scroll-target="#super-short-intro-to-quantum-computing">Super short intro to quantum computing</a></li>
  <li><a href="#classical-probabilistic-processes" id="toc-classical-probabilistic-processes" class="nav-link" data-scroll-target="#classical-probabilistic-processes">Classical probabilistic processes</a></li>
  <li><a href="#quantum-speed-up-suspects" id="toc-quantum-speed-up-suspects" class="nav-link" data-scroll-target="#quantum-speed-up-suspects">Quantum speed up suspects</a>
  <ul class="collapse">
  <li><a href="#humongous-hilbert-space" id="toc-humongous-hilbert-space" class="nav-link" data-scroll-target="#humongous-hilbert-space">Humongous Hilbert space</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="why-can-quantum-computers-be-powerful" class="level2">
<h2 class="anchored" data-anchor-id="why-can-quantum-computers-be-powerful">Why can quantum computers be powerful?</h2>
<p>So there are quantum computers. At least there will be, we believe. And the reason to build them is an expectation that they will solve some problems intractable for the classical computers. It is a new way to process information, a new way to do computation.</p>
<p>However, it is surprisingly difficult to pinpoint the exact mechanism underlying the capabilities of a quantum computer. Most of the simplistic explanations, referencing some unusual property of quantum systems such as entanglement, superposition etc, are incomplete at best. It is hard to compare classical and quantum head-to-head, because of the very different language used to describe them.</p>
<p>In this post, I will try to make a fair comparison and zoom in on the essential differences. As an experiment, I will try to cover the topic in a way accessible for people outside the field, striving to provide an explanation that is “as simple as possible, but no simpler”. The discussion still won’t be entirely non-technical, though, and use some basic probability and linear algebra.</p>
<div class="callout callout-style-simple callout-note">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>Still, I could not resist supplementing the basic explanation with more technical stuff. Parts, encapsulated like this one, will contain more math and require some quantum background. They can be skipped without breaking the main argument, though.</p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-caution">
<div class="callout-body d-flex">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-body-container">
<p>And occasionally there will be something even more hardcore.</p>
</div>
</div>
</div>
</section>
<section id="what-does-this-mean-exactly" class="level2">
<h2 class="anchored" data-anchor-id="what-does-this-mean-exactly">What does this mean, exactly?</h2>
<p>I will only consider algorithms that both take as input and return as output classical data. In principle, quantum computers can take and/or return quantum information (more on that later), but classical computers can’t, so it does not make sense to compare them in this setting.</p>
<p>It is important to stress that quantum computers are not entirely magical. In principle, anything that can be done by a quantum computer can also be done by a classical one. However, it may take prohibitively more time and/or memory.</p>
<p>For instance, any process on a small enough quantum computer can be easily reproduced on a laptop. We call this a <em>simulation</em> (a classical simulation of a quantum computer, to be more precise).</p>
<p>Generically, the amount of classical resources required to simulate a quantum process scales exponentially. So while the classical simulation is always possible in principle, it may not be <em>efficient</em>. It should be stressed, though, that there are many non-trivial types of quantum processes that <em>can</em> be simulated efficiently at scale. More on that later.</p>
<p>To explain why a quantum computer can be more powerful than a classical, can mean addressing two questions.</p>
<ol type="1">
<li>Why does the raw power of the quantum computer grow so fast? In other words, why <em>an arbitrary</em> quantum computation can not be simulated efficiently by a classical machine?</li>
<li>Why some of the things that a quantum computer can do, but a classical can not simulate efficiently, are useful? What problems can be efficiently solved quantumly, but not classically?</li>
</ol>
<p>In this post, I will mostly focus on the first question, i.e.&nbsp;try to explain what sets a generic quantum computation apart from classical. The second question, which is by all means just as important, I will only touch briefly.</p>
</section>
<section id="the-suspects" class="level2">
<h2 class="anchored" data-anchor-id="the-suspects">The suspects</h2>
<p>Alright, what property of quantum mechanics is responsible for the potential power of quantum computation? Shouldn’t it be easy to identify? Does it even make sense to ask this question, as the quantum mechanics is just so weird and spooky and a wave and a particle at the same time? Here are the usual suspects.</p>
<ol type="1">
<li>Huge (exponentially large) dimension of the space where quantum states live.</li>
<li>Quantum parallelism.</li>
<li>Superposition.</li>
<li>Entanglement.</li>
<li>Contextuality.</li>
</ol>
<p>Don’t worry if some concepts are unfamiliar, we will elaborate.</p>
<p>You can probably add more. While all these things are necessary, neither is sufficient alone. And they are also come in a package, so it may not even be consistent to keep some and discard the others. However, If I had to choose, I’d probably say it’s large state space + superposition, but this may be a matter of taste.</p>
</section>
</section>
<section id="what-is-quantum-computing-anyway" class="level1">
<h1>What is quantum computing, anyway?</h1>
<section id="its-not-really-about-the-physics" class="level2">
<h2 class="anchored" data-anchor-id="its-not-really-about-the-physics">It’s not really about the physics</h2>
<p>Well, quantum computing is a way of manipulating information made possible by the laws of quantum mechanics. One way to introduce it is to go through the history of the subject, starting somewhere around Bohr’s atomic model and Einstein’s photoelectric effect and going all the way to Standard Model of particle physics and quantum gravity. While understanding the confusion of the founding fathers is probably an invaluable experience, it is a risky and time-consuming endeavor. In fact, stripped of the historical context and philosophical paradoxes, quantum physics becomes nothing but a generalization of a probability theory. The fact that this mathematical model really underpins the Universe is remarkable, but we need not and will not care much about it’s physical roots.</p>
</section>
<section id="quantum-states" class="level2">
<h2 class="anchored" data-anchor-id="quantum-states">Quantum states</h2>
<p>Ok, let’s start getting technical. Quantum computers manipulate quantum states. What are these? The simplest quantum system, known as a <strong><em>qubit</em></strong> (from <strong><em>qu</em></strong>antum <strong><em>bit</em></strong>), has two basic states <span class="math inline">\(|0\rangle\)</span> and <span class="math inline">\(|1\rangle\)</span>. However, it can also be in <strong><em>superposition</em></strong> of these <span class="math display">\[|\psi\rangle=a|0\rangle+b|1\rangle \ .\]</span> What does is mean for a qubit to be in this state? If you ask the qubit, i.e.&nbsp;make a <strong><em>measurement</em></strong>, it will answer “I’m <span class="math inline">\(|0\rangle\)</span>!” with probability <span class="math inline">\(|a|^2\)</span> and “I’m <span class="math inline">\(|1\rangle\)</span>!”) with probability <span class="math inline">\(|b|^2\)</span>. Of course, we need to have <span class="math inline">\(|a|^2+|b|^2=1\)</span>.</p>
<p>In this respect, qubit in state <span class="math inline">\(|\psi\rangle\)</span> is like an unfair coin, which lands heads with probability <span class="math inline">\(|a|^2\)</span> and tails with probability <span class="math inline">\(|b|^2\)</span>. Importantly, this probability distribution is not a property of the qubit itself, but</p>
<p>Technically, <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> can be complex numbers, but for simplicity you can think they are just the usual real numbers. What is important, is that they can be negative.</p>
<ol type="1">
<li>A lot of confusion about the source of quantum advantage.</li>
<li>Usual suspects
<ol type="1">
<li>Large Hilbert space</li>
<li>Entanglement</li>
<li>Parallelism</li>
<li>Superposition</li>
</ol></li>
<li>Simple but accurate explanation hard to come by.</li>
<li>Many simplistic explanations fail because they apply to probabilistic computing as well
<ol type="1">
<li>Large space dimension for probabilities</li>
<li>No interference</li>
<li>Stochastic matrices can be simulated? Always increase entropy</li>
<li>Quasi-probability distr, Wigner functions</li>
</ol></li>
<li>And then there are classical waves.
<ol type="1">
<li>But no exponential modes</li>
</ol></li>
<li>Entanglement is curios, but not crucial
<ol type="1">
<li>Entanglement ensures exploring Hilbert space</li>
<li>Stabilizer circuits can be simulated</li>
<li>Quantum correlations are not directly related to computational advantage</li>
</ol></li>
<li>Algorithms vs quantum circuits.</li>
<li>Post a bit different, try to give as simple explanation as possible.</li>
<li>Couldn’t do it, but technical parts separated.</li>
<li>Takeaway.
<ul>
<li>Dimension of the Hilbert space+superposition given a polynomial amount of qubits</li>
</ul></li>
<li>The answer not completely satisfactory, the subject is subtle.</li>
<li>Mention quantum games!</li>
</ol>
</section>
</section>
<section id="absurdly-short-intro-to-classical-computing" class="level1">
<h1>Absurdly short intro to classical computing</h1>
<ul>
<li>Classical computers manipulate states of bits</li>
</ul>
</section>
<section id="super-short-intro-to-quantum-computing" class="level1">
<h1>Super short intro to quantum computing</h1>
<ul>
<li>Physics/historical way is not necessary</li>
<li>Quantum physics is a generalization of probability</li>
<li>Quantum states are like probability distributions</li>
<li>Quantum bit – <span class="math inline">\((\alpha_0, \alpha_1)\)</span></li>
<li>Born rule</li>
<li>Space dimension of <span class="math inline">\(n\)</span> qubits is <span class="math inline">\(2^n\)</span></li>
<li>Quantum programs manipulate quantum states</li>
<li>Act as unitary matrices</li>
<li>Produce probability distributions</li>
<li>End with a measurement</li>
<li>Quantum circuit is a convenient model</li>
<li>Each gate is a rule for updating amplitudes</li>
</ul>
</section>
<section id="classical-probabilistic-processes" class="level1">
<h1>Classical probabilistic processes</h1>
<ul>
<li>State space is also huge, of the same order</li>
<li></li>
</ul>
</section>
<section id="quantum-speed-up-suspects" class="level1">
<h1>Quantum speed up suspects</h1>
<section id="humongous-hilbert-space" class="level2">
<h2 class="anchored" data-anchor-id="humongous-hilbert-space">Humongous Hilbert space</h2>
<ul>
<li>Necessary, as we could state-vector simulate everything otherwise. Not sufficient. Some things can be simulated anyway. Applies to probabilistic computing as well.</li>
</ul>



</section>
</section>

<div class="quarto-listing quarto-listing-container-default" id="listing-listing">
<div class="list quarto-listing-default">

</div>
<div class="listing-no-matching d-none">
No matching items
</div>
</div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="idnm/blog" data-repo-id="R_kgDOJWB1vg" data-category="General" data-category-id="DIC_kwDOJWB1vs4CVvR7" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->



</body></html>